<div class="container mt-4">
  <h2>RAH Combination Checker</h2>
  <div id="printSection"  style="margin-top: 20px; text-align: center;">
  <div style="position: absolute; top: 20px; right: 20px; z-index: 1000;">
    <img src="assets/rayosoft.jpg" alt="Logo" style="height: 40px;">
  </div>
  <div style="position: absolute; top: 70px; right: 20px; z-index: 1000;">
    <img src="assets/logo2.jpg" alt="Logo" style="height: 40px;">
  </div>

  <!-- Patient Info -->
<!-- Patient Info -->
<!-- Patient Info -->
<div class="mb-4">
  <div class="row g-3">
    <div class="col-md-3">
      <label>First Name:</label>
      <input type="text" [(ngModel)]="firstName" class="form-control form-control-sm" />
    </div>

    <div class="col-md-3">
      <label>Last Name:</label>
      <input type="text" [(ngModel)]="lastName" class="form-control form-control-sm" />
    </div>

    <div class="col-md-3">
      <label>Date of Birth:</label>
      <input type="date" [(ngModel)]="dob" class="form-control form-control-sm" />
    </div>

    <div class="col-md-3">
      <label>Mobile Number:</label>
      <input
        type="tel"
        [(ngModel)]="mobileNumber"
        class="form-control form-control-sm"
        placeholder="Enter mobile number"
      />
    </div>

    <div class="col-md-6 mt-3">
      <label>Email Address:</label>
      <input
        type="email"
        [(ngModel)]="email"
        class="form-control form-control-sm"
        placeholder="Enter email address"
      />
    </div>

    <div class="col-md-6 mt-4 d-flex align-items-end">
      <div>
        <button class="btn btn-info btn-sm" (click)="generatePIT()">Generate PIT</button>
        <div class="mt-2">
          <strong>PIT:</strong> {{ generatedPIT }}
        </div>
      </div>
    </div>
  </div>
</div>



  <hr />

  <!-- Two Columns for 2 RAH and 3 RAH Sections -->
  <div class="row">
    <!-- Left Column: 2 RAH -->
    <div class="col-md-6">
      <h4>Check 2 RAH ID Combination</h4>
 <div class="row mb-3">
  <div class="col">
    <label>RAH ID 1</label>
    <div class="input-group">
      <input type="text" [(ngModel)]="rahId1" class="form-control" placeholder="RAH ID 1" />
      <button class="btn btn-outline-secondary" type="button" (click)="listenForRah1()">ðŸŽ¤</button>
    </div>
  </div>

  <div class="col">
    <label>RAH ID 2</label>
    <div class="input-group">
      <input type="text" [(ngModel)]="rahId2" class="form-control" placeholder="RAH ID 2" />
      <button class="btn btn-outline-secondary" type="button" (click)="listenForRah2()">ðŸŽ¤</button>
    </div>
  </div>

  <div class="col-auto d-flex align-items-end">
    <button class="btn btn-primary" (click)="checkCombinationTwo()">Check</button>
      <button class="btn btn-outline-danger" (click)="resetTwo()">Reset</button>

  </div>
</div>


      <div *ngIf="notFoundTwo" class="alert alert-danger">Combination not found.</div>

      <div *ngIf="resultTwo">
        <div class="card mb-4">
          <div class="card-body">
            <h5><strong>Combination:</strong> {{ resultTwo.combination }}</h5>
     

            <div class="mt-3 p-3" style="background-color: #f1f8e9; border-radius: 8px;">
              <h5><strong>Analysis</strong></h5>
              <p [innerHTML]="analysisTwo"></p>
            </div>

            <div class="mt-3 p-3" style="background-color: #e1f5fe; border-radius: 8px;">
              <h5><strong>Potential Indications</strong></h5>
              <div *ngFor="let line of potentialIndicationListTwo">
                <ng-container *ngIf="line.startsWith('-'); else headerTwo">
                  <label>
                    <input
                      type="checkbox"
                      (change)="onCheckboxChangeTwo(line, $event)"
                      [checked]="selectedIndicationsTwo.includes(line.substring(2).trim())"
                    />
                    {{ line.substring(2) }}
                  </label>
                </ng-container>
                <ng-template #headerTwo>
                  <strong>{{ line }}</strong>
                </ng-template>
              </div>
            </div>

            <div class="mt-3 p-3" style="background-color: #ede7f6; border-radius: 8px;">
              <h5><strong>Recommendations for Rebalancing</strong></h5>
              <p [innerHTML]="recommendationTwo"></p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Right Column: 3 RAH -->
    <div class="col-md-6">
      <h4>Check 3 RAH ID Combination</h4>
  <div class="row mb-3">
  <div class="col">
      <label>RAH ID 1</label>
    <div class="input-group">
      <input type="text" [(ngModel)]="rahId3_1" placeholder="RAH ID 1" class="form-control" />
      <button class="btn btn-outline-secondary" type="button" (click)="listenForRah3_1()">ðŸŽ¤</button>
    </div>
  </div>
  <div class="col">
      <label>RAH ID 2</label>
    <div class="input-group">
      <input type="text" [(ngModel)]="rahId3_2" placeholder="RAH ID 2" class="form-control" />
      <button class="btn btn-outline-secondary" type="button" (click)="listenForRah3_2()">ðŸŽ¤</button>
    </div>
  </div>
  <div class="col">
      <label>RAH ID 3</label>
    <div class="input-group">
      <input type="text" [(ngModel)]="rahId3_3" placeholder="RAH ID 3" class="form-control" />
      <button class="btn btn-outline-secondary" type="button" (click)="listenForRah3_3()">ðŸŽ¤</button>
    </div>
  </div>
  <div class="col-auto d-flex align-items-end">
    <button class="btn btn-primary" (click)="checkCombinationThree()">Check</button>
      <button class="btn btn-outline-danger" (click)="resetThree()">Reset</button>
  </div>
</div>


      <div *ngIf="notFoundThree" class="alert alert-danger">Combination not found.</div>

      <div *ngIf="resultThree">
        <div class="card mb-4">
          <div class="card-body">
            <h5><strong>Combination:</strong> {{ resultThree.combination }}</h5>


            <div class="mt-3 p-3" style="background-color: #f1f8e9; border-radius: 8px;">
              <h5><strong>Analysis</strong></h5>
              <p [innerHTML]="analysisThree"></p>
            </div>

            <div class="mt-3 p-3" style="background-color: #e1f5fe; border-radius: 8px;">
              <h5><strong>Potential Indications</strong></h5>
              <div *ngFor="let line of potentialIndicationListThree">
                <ng-container *ngIf="line.startsWith('-'); else headerThree">
                  <label>
                    <input
                      type="checkbox"
                      (change)="onCheckboxChangeThree(line, $event)"
                      [checked]="selectedIndicationsThree.includes(line.substring(2).trim())"
                    />
                    {{ line.substring(2) }}
                  </label>
                </ng-container>
                <ng-template #headerThree>
                  <strong>{{ line }}</strong>
                </ng-template>
              </div>
            </div>

            <div class="mt-3 p-3" style="background-color: #ede7f6; border-radius: 8px;">
              <h5><strong>Recommendations for Rebalancing</strong></h5>
              <p [innerHTML]="recommendationThree"></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <mat-card style="background-color: #fff3cd; border-left: 6px solid #ffc107; margin-top: 30px;">
  <mat-card-content>
    <p style="font-size: 15px; color: #856404; line-height: 1.6;">
      <strong>Note:</strong> If you would like to book a full body scan and see what the root causes are to your issues, then please contact us on:
      <strong>01164 888 630</strong> to book an appointment, or you can email us at: 
    <strong>
        <a href="mailto:info&#64;thebioenergyclinic.co.uk">info&#64;thebioenergyclinic.co.uk</a>
      </strong>.
      Please ensure when contacting us that you provide us with your <strong>PIT number</strong>.
    </p>
  </mat-card-content>
</mat-card>
<mat-card style="margin-top: 30px; background-color: #f8f9fa; border-left: 5px solid #6c757d;">
  <mat-card-content>
    <p style="font-style: italic; color: #343a40;">
      This check-up report is based on cell energetics, and in no way replaces a full medical report.
      The practitioner's comments are based on the findings of the imbalances caused by
      cell energetics in the body through the Rayoscan process.
    </p>
  </mat-card-content>
</mat-card>

  <!-- Print Button -->
  <div class="text-center mt-4">
    <button class="btn btn-secondary" (click)="printPage()">Print</button>
  </div>
</div>
